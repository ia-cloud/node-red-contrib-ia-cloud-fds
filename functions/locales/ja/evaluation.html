
<script type="text/html" data-help-name="evaluation">
    <!-- ここにNode機能の概要を、50文字以内で記述-->
    <p>ia-cloudのデータ項目を評価し、判定に合わせて出力メッセージを送出する（しない）</p>

    <h3>プロパティ項目</h3>
    <dl class="message-properties">
        <dt>動作<span class="property-type">選択</span></dt>
        <dd>論理出力へ変更：個別のデータ項目毎に判定結果を論理値（true/false）で出力</dd>
        <dd>論理出力へ変更：個別のデータ項目毎に判定結果を01の数値で出力</dd>
        <dd>個別データ項目を削除：判定結果が偽(false)となったデータ項目はcontentDataから削除する</dd>
        <dd>オブジェクト全体を破棄：一つでも判定結果が一つでも偽(false)であれば、ia-cloudオブジェクトを出力しない</dd>
        <dt>評価条件リスト<span class="property-type">リスト</span></dt>
        <dl class="message-properties" style="margin-left: 8px">
            <dt>オブジェクトキー<span class="property-type">文字列</span></dt>
            <dd>評価する対象のオブジェクトキー。空欄は入力された全てのiaCloudオブジェクトを対象とする</dd>
            <dt>データ名称<span class="property-type">文字列</span></dt>
            <dd>評価する対象データ項目のデータ名称。</dd>
            <dt>判定方法<span class="property-type">選択</span></dt>
            <dd>データ値の判定方法：</dd> 
            <dd>等しい・等しくない・範囲内・範囲外のいずれかを選択</dd> 
            <dt>照合する値<span class="property-type">数値|文字列</span></dt>
            <dd>データの等価評価の値（空欄は非適用）</dd>
            <dt>上限値<span class="property-type">数値</span></dt>
            <dd>データ評価の上限値（空欄は非適用）</dd>
            <dt>下限値<span class="property-type">数値</span></dt>
            <dd>データ評価の下限値（空欄は非適用）</dd>
        </dl>
        <dt>名前<span class="property-type">文字列</span></dt>
        <dd>個別のNodeに付与する名前</dd>
    </dl>
    <h3>入力メーッセージ</h3>
    <dl class="message-properties">
        <dt>request <span class="property-type">string</span></dt>
        <dd>ia-cloudリクエスト内容。"store"のみ有効</dd>
        <dt>dataObject <span class="property-type">object</span></dt>
        <dd>ia-cloud dataObject構造のオブジェクト。</dd>
    </dl>

    <h3>出力メッセージ</h3>
    <dl class="message-properties">
        <dt>payload <span class="property-type">string | object</span></dt>
        <dd>ia-cloudオブジェクトのcontentData。エラーが発生した場合は、エラーコメント。</dd>
        <dt>request <span class="property-type">string</span></dt>
        <dd>ia-cloudリクエスト内容。デフォルトでは入力メッセージとして受けたものと同じ。</dd>
        <dt>dataObject <span class="property-type">object</span></dt>
        <dd>ia-cloud dataObject。評価条件リストの内容で評価した結果に基づき変更されたdataObject。</dd>
    </dl>

    <h3>詳細説明</h3>
    <p>入力メッセージのiaCloudオブジェクトの各データ項目を、判定条件で評価し、評価結果に基づいて出力メッセージを出力します。</p>
    <p>評価ルールは上から順番に適用され、同一のオブジェクトキー・データ名称の組合せは、空欄を含めて最初に出現したものだけが適用されます</p>
    <p>条件評価は、データの値が数値の場合は数値として等価・大小判定し、文字列の場合は文字列として等価・辞書順の並びを判定します</p>
    <p>出力方式は以下のいずれかを選択できます</p>
    <p>判定結果を、論理値（true/false）としたiaClodオブジェクトを出力</p>
    <p>判定結果を、数値（0/1）としたiaClodオブジェクトを出力</p>
    <p>判定結果が「戯」だったデータ項目を削除したiaCloudオブジェクトを出力</p>
    <p>一つでも判定結果が「戯」であるデータ項目があった場合、出力メッセージを出力しない。</p>
</script>
